# Руководство по миграции Bnovo UIKit на Vue 3

## Обзор

Этот документ описывает процесс миграции компонентов UIKit из Vue 2 + Vuetify 2 на Vue 3 + Radix UI + Tailwind CSS.

## Архитектура нового UIKit

### Структура проекта
```
uikit/
├── src/
│   ├── components/     # Vue 3 компоненты с Composition API
│   ├── styles/         # Tailwind CSS стили
│   └── index.ts        # Экспорты компонентов
├── stories/            # Storybook истории
├── tests/              # Vitest тесты
└── dist/               # Собранная библиотека
```

### Технологии
- **Vue 3** с Composition API
- **Radix Vue** для headless компонентов
- **Tailwind CSS** для стилизации
- **TypeScript** для типизации
- **Vite** для сборки
- **Vitest** для тестирования
- **Storybook** для документации

## Миграция компонентов

### Пример: BAlert компонент

#### Исходный компонент (Vue 2 + Vuetify)
```vue
<template>
  <v-alert :type="type" :dismissible="dismissible" text dense>
    <slot/>
  </v-alert>
</template>
```

#### Новый компонент (Vue 3 + Radix + Tailwind)
```vue
<script setup lang="ts">
import { computed } from 'vue'

export interface BAlertProps {
  type?: 'info' | 'warning' | 'success' | 'error'
  dismissible?: boolean
  small?: boolean
}

const props = withDefaults(defineProps<BAlertProps>(), {
  type: 'info',
  dismissible: false,
  small: false,
})
</script>

<template>
  <div :class="alertClasses">
    <div :class="iconClasses">
      <i :class="icon"></i>
    </div>
    <div class="flex-1 min-w-0">
      <slot />
    </div>
  </div>
</template>
```

## Преимущества новой архитектуры

### 1. Независимость от фреймворков
- Компоненты не зависят от Vuetify
- Легче поддерживать и обновлять
- Меньший размер бандла

### 2. Современные технологии
- Vue 3 Composition API
- TypeScript для типобезопасности
- Tailwind CSS для гибкой стилизации

### 3. Лучшая доступность
- Radix UI предоставляет встроенную поддержку a11y
- ARIA атрибуты автоматически управляются

### 4. Производительность
- Меньше зависимостей
- Оптимизированная сборка с Vite
- Tree-shaking для неиспользуемого кода

## План миграции

### Этап 1: Подготовка (1-2 недели)
- [x] Создать новый репозиторий для UIKit
- [x] Настроить Vue 3 + Vite + TypeScript
- [x] Интегрировать Tailwind CSS
- [x] Настроить Storybook и Vitest

### Этап 2: Миграция компонентов (4-6 недель)
- [x] BAlert (демонстрационный компонент)
- [ ] BBtn (уже частично реализован)
- [ ] BDataTable
- [ ] BDialog
- [ ] BSelect
- [ ] И другие компоненты

### Этап 3: Тестирование и документация (2-3 недели)
- [x] Написать unit тесты для каждого компонента
- [x] Создать Storybook истории
- [ ] Написать интеграционные тесты
- [ ] Создать документацию по API

### Этап 4: Интеграция в основной проект (2-3 недели)
- [ ] Обновить package.json основного проекта
- [ ] Заменить импорты компонентов
- [ ] Протестировать совместимость
- [ ] Провести регрессионное тестирование

## Рекомендации по реализации

### 1. Компонентная архитектура
- Использовать Composition API для логики
- Определять интерфейсы для пропов
- Использовать слоты для гибкости

### 2. Стилизация
- Использовать Tailwind CSS классы
- Создавать computed свойства для динамических классов
- Поддерживать темную тему

### 3. Тестирование
- Писать тесты для всех основных сценариев
- Тестировать различные комбинации пропов
- Проверять доступность

### 4. Документация
- Создавать Storybook истории для каждого компонента
- Документировать API и примеры использования
- Предоставлять миграционные гайды

## Риски и mitigation

### Риски
1. **Breaking changes**: Некоторые API могут измениться
2. **Стилизация**: Внешний вид может отличаться
3. **Производительность**: Возможны проблемы с большими списками

### Mitigation
1. **Пошаговая миграция**: Миграция по компонентам
2. **Backward compatibility**: Поддержка старых пропов
3. **Тестирование**: Полное покрытие тестами
4. **Документация**: Детальные гайды по миграции

## Следующие шаги

1. **Утвердить архитектуру** с руководством
2. **Создать roadmap** с конкретными сроками
3. **Назначить ответственных** за каждый этап
4. **Начать с пилотных компонентов** (BAlert, BBtn)
5. **Организовать обучение** команды новым технологиям

## Контакты

Для вопросов по миграции:
- Технический лидер: [Имя]
- Архитектор: [Имя]
- Команда разработки: [Список]